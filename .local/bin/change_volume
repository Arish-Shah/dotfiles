#!/bin/sh

function send_notification() {
    volume=$(pamixer --get-volume)
    icon="notification-audio-volume-muted"
  
    if [ "$volume" -lt 25 ]; then
        icon="notification-audio-volume-low"
    elif [ "$volume" -lt 75 ]; then
        icon="notification-audio-volume-medium"
    else
        icon="notification-audio-volume-high"
    fi
      
    dunstify -a "volume" -r 9993 -h int:value:"$volume" -i $icon "Volume"
}

case $1 in
up)
    # Set the volume on (if it was muted)
    pamixer -u
    pamixer -i 5
    send_notification $1
    ;;
down)
    pamixer -u
    pamixer -d 5
    send_notification $1
    ;;
mute)
    pamixer -t
    if $(pamixer --get-mute); then
		dunstify -a "volume" -r 9993 -i audio-volume-muted "Muted" -i notification-audio-volume-muted
    else
        send_notification up
    fi
    ;;
esac

# Play the volume changed sound
# canberra-gtk-play -i audio-volume-change -d "changeVolume"
kill -44 $(pidof dwmblocks)

